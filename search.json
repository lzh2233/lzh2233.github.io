[{"title":"Arknight","url":"/2022/03/31/Arknight/","content":"è¿™æ˜¯æˆ‘çš„ä¸ªäººåšå®¢\n\n\n\nè±†â›Ÿæµ†â›Ÿ\n\n","tags":["æ˜æ—¥æ–¹èˆŸ"]},{"title":"ç»„åˆæ•°å­¦ç¬”è®°","url":"/2022/04/13/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6%E7%AC%94%E8%AE%B0/","content":"ç»„åˆæ•°åº”ç”¨ç”šä¸ºå¹¿æ³›ï¼Œä¹‹å‰åšè¿‡ç¬”è®°ï¼Œè¿™æ¬¡ç®—è¡¥æ¡£ã€‚\n\n\nç»„åˆæ•°å­¦çš„å…ˆè¡Œç‰ˆ\næˆ‘è®°å¾—æˆ‘è®°è¿‡ç»„åˆæ•°å­¦çš„ç¬”è®°å‘€ğŸ˜¡\n\næ±‚ç»„åˆæ•°æ±‚ç»„åˆæ•°æœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æ•°æ®èŒƒå›´æ¥é€‰å‡ºé€‚åˆçš„æ–¹å¼ï¼Œä»¥å¦‚ä¸‹ä¾‹é¢˜ä¸ºä¾‹ğŸ‘‡\n\nç»™å®š n ç»„è¯¢é—®ï¼Œæ¯ç»„è¯¢é—®ç»™å®šä¸¤ä¸ªæ•´æ•° aï¼Œbè¯·ä½ è¾“å‡º C a b mod(10^9+7) çš„å€¼ã€‚\n\nç¬¬ä¸€ç§ï¼ˆé€’æ¨å¼ï¼‰å…¬å¼ï¼š C(a, b) &#x3D; C (a - 1, b) + C(a - 1, b - 1)\næ­¤ç±»æ–¹æ³•çš„æ•°æ®èŒƒå›´ï¼š 10 ^ 3 &lt; b â‰¤ a &lt; 10 ^ 4\nä»£ç å®ç°ï¼š#include &lt;iostream&gt;using namespace std;const int N = 2010;const int MOD = 1e9 + 7;int c[N][N];void init()                         //æ—¶é—´å¤æ‚åº¦O(n ^ 2), ç©ºé—´å¤æ‚åº¦O(n ^ 2)&#123;    for(int i = 0; i &lt; N; i ++ )    &#123;        for(int j = 0; j &lt;= i; j ++ )               &#123;            if(!j) c[i][j] = 1;                                                 else c[i][j] = (c[i - 1][j - 1] + c[i - 1][j]) % MOD;       //é€’æ¨            &#125;    &#125;&#125;int main()&#123;    init();    int T;    cin &gt;&gt; T;    while(T -- )    &#123;        int a, b;        cin &gt;&gt; a &gt;&gt; b;        cout &lt;&lt; c[a][b] &lt;&lt; endl;    &#125;    return 0;&#125;\n\nç¬¬äºŒç§ï¼ˆä¹˜æ³•é€†å…ƒå’Œå‰ç¼€ä¹˜é¢„å¤„ç†ï¼‰å…¬å¼ï¼š C(a, b) &#x3D; a! &#x2F; [(a - b)! Ã— b!]   &#x3D;&#x3D;&gt;  C(a, b) &#x3D; a! Ã— inv((a- b)! Ã— b!) \næ­¤ç±»æ–¹æ³•çš„æ•°æ®èŒƒå›´ï¼š 1 â‰¤ b â‰¤a â‰¤ 10^5\nä»£ç å®ç°ï¼š#include &lt;iostream&gt;using namespace std;typedef long long LL;const int N = 1e5 + 10;const int MOD = 1e9 + 7;int fact[N], inv[N];int qkm(int a, int k, int p)&#123;    int res = 1;    while(k)    &#123;        if(k &amp; 1) res = (LL)res * a % p;        a = (LL)a * a % p;        k &gt;&gt;= 1;    &#125;    return res;&#125;void init()&#123;    fact[0] = inv[0] = 1;           //c(0,0)çš„åˆå§‹åŒ–    for(int i = 1; i &lt; N; i ++ )    &#123;        fact[i] = (LL)fact[i - 1] * i % MOD;        // å‰ç¼€ä¹˜oré˜¶ä¹˜é€’æ¨        inv[i] = (LL) inv[i - 1] * qkm(i, MOD - 2, MOD) % MOD;    &#125;&#125;int main()&#123;    int T;    cin &gt;&gt; T;    init();    while(T -- )    &#123;        int a, b;        cin &gt;&gt; a &gt;&gt; b;        cout &lt;&lt; ((LL)fact[a] * inv[b] % MOD * inv[a- b] % MOD) % MOD &lt;&lt; endl;    &#125;    return 0;&#125;\n\nç¬¬ä¸‰ç§ï¼ˆLucaså®šç†ï¼‰å…¬å¼ï¼š C(a, b) % P &#x3D; C(a%P, b%P) Ã— C(a&#x2F;P, b&#x2F;P)\næ­¤ç±»æ–¹æ³•çš„æ•°æ®èŒƒå›´ï¼š 1â‰¤bâ‰¤aâ‰¤10^18,  1â‰¤pâ‰¤10^5\nä»£ç å®ç°ï¼š#include &lt;iostream&gt;using namespace std;typedef long long LL;int qkm(int a, int k, int p)&#123;    int res = 1;    while(k)    &#123;        if(k &amp; 1) res = res * a % p;        a = (LL)a * a % p;        k &gt;&gt;= 1;    &#125;    return res;&#125;int C(int a, int b, int p)&#123;    if(b &gt; a) return 0;         //ç»„åˆæ•°ä¸å­˜åœ¨    int res = 1;    for(int i = 1, j = a; i &lt;= b; i ++ , j -- )    &#123;        res = (LL)res * j % p;              //é˜¶ä¹˜çš„é€’æ¨        res = (LL)res * qkm(i, p - 2, p) % p;       \t//ä¹˜æ³•é€†å…ƒ    &#125;    return res;&#125;int lucas(LL a, LL b, int p)        //lucaså®šç†ä¸­pä¸ºè´¨æ•°,ä¸”ä¸å®œå¤ªå¤§&#123;    if(a &lt; p &amp;&amp;  b &lt; p) return C(a, b, p);    return (LL)C(a % p, b % p, p) * lucas(a / p, b / p, p) % p;&#125;int main()&#123;    int T;    cin &gt;&gt; T;    while(T -- )    &#123;        LL a, b;        int p;        cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;        cout &lt;&lt; lucas(a, b, p) &lt;&lt; endl;    &#125;    return 0;&#125;\n\nç¬¬å››ç§(å¯¹é˜¶ä¹˜åˆ†è§£è´¨å› æ•° + é«˜ç²¾åº¦)\nåŠå…¶ç¡¬æ ¸ï¼Œä¸æ˜¯å—\n\nå½“ä»¥ä¸ŠèŒƒå›´è¶…å‡ºä»¥ä¸Šä¸‰ç§æˆ–æ²¡æœ‰è¿›è¡Œå–ä½™\nä»£ç å®ç°ï¼š#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;vector&gt;using namespace std;const int N = 5010;int primes[N], cnt;int sum[N];bool st[N];void get_primes(int n)&#123;    for (int i = 2; i &lt;= n; i ++ )    &#123;        if (!st[i]) primes[cnt ++ ] = i;        for (int j = 0; primes[j] &lt;= n / i; j ++ )        &#123;            st[primes[j] * i] = true;            if (i % primes[j] == 0) break;        &#125;    &#125;&#125;int get(int n, int p)&#123;    int res = 0;    while (n)    &#123;        res += n / p;        n /= p;    &#125;    return res;&#125;vector&lt;int&gt; mul(vector&lt;int&gt; a, int b)&#123;    vector&lt;int&gt; c;    int t = 0;    for (int i = 0; i &lt; a.size(); i ++ )    &#123;        t += a[i] * b;        c.push_back(t % 10);        t /= 10;    &#125;    while (t)    &#123;        c.push_back(t % 10);        t /= 10;    &#125;    return c;&#125;int main()&#123;    int a, b;    cin &gt;&gt; a &gt;&gt; b;    get_primes(a);    for (int i = 0; i &lt; cnt; i ++ )    &#123;        int p = primes[i];        sum[i] = get(a, p) - get(a - b, p) - get(b, p);    &#125;    vector&lt;int&gt; res;    res.push_back(1);    for (int i = 0; i &lt; cnt; i ++ )        for (int j = 0; j &lt; sum[i]; j ++ )            res = mul(res, primes[i]);    for (int i = res.size() - 1; i &gt;= 0; i -- ) printf(&quot;%d&quot;, res[i]);    puts(&quot;&quot;);    return 0;&#125;\n\nä¸‹æ¬¡æ‹¿pythonè¦†å†™ä¸€éã€‚\nç•ªå¤–ã®æ•°â€”â€”å¡ç‰¹å…°æ•°\nä½œä¸ºå¡ç‰¹å…°æ•°ï¼Œè¿™ä¸ªä¸–ç•Œä¸Šå¾ˆå¤šæ–¹æ¡ˆæ•°éƒ½æ˜¯å¡ç‰¹å…°æ•°ï¼Œæ‹¥æœ‰å’Œæ–æ³¢é‚£å¥‘æ•°ä¸€æ ·çš„åœ°ä½\n\nè¡¨è¾¾å½¢å¼ï¼š\n\nf(n)&#x3D;f(0)Ã—f(nâˆ’1)+f(1)Ã—f(nâˆ’2)+â€¦+f(nâˆ’1)Ã—f(0)\nf(n)&#x3D;C(2n, n) - C(2n , n - 1)\nf(n)&#x3D;C(2n, n) &#x2F; (n + 1)\n\nå¡ç‰¹å…°æ•°çš„åˆå§‹åŒ–ï¼š f(0) &#x3D; 1\nä¾‹é¢˜å±•ç¤ºç»™å®š n ä¸ª 0 å’Œ n ä¸ª 1ï¼Œå®ƒä»¬å°†æŒ‰ç…§æŸç§é¡ºåºæ’æˆé•¿åº¦ä¸º 2n çš„åºåˆ—ï¼Œæ±‚å®ƒä»¬èƒ½æ’åˆ—æˆçš„æ‰€æœ‰åºåˆ—ä¸­ï¼Œèƒ½å¤Ÿæ»¡è¶³ä»»æ„å‰ç¼€åºåˆ—ä¸­ 0 çš„ä¸ªæ•°éƒ½ä¸å°‘äº 1 çš„ä¸ªæ•°çš„åºåˆ—æœ‰å¤šå°‘ä¸ªã€‚\nè¾“å‡ºçš„ç­”æ¡ˆå¯¹ 10^9+7 å–æ¨¡ã€‚\nè¾“å…¥æ ¼å¼å…±ä¸€è¡Œï¼ŒåŒ…å«æ•´æ•° nã€‚\nè¾“å‡ºæ ¼å¼å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºç­”æ¡ˆã€‚\næ•°æ®èŒƒå›´1â‰¤nâ‰¤10^5\nè¾“å…¥æ ·ä¾‹ï¼š3\n\nè¾“å‡ºæ ·ä¾‹ï¼š5\n\nä»£ç å®ç°ï¼š#include &lt;iostream&gt;using namespace std;typedef long long LL;const int MOD = 1e9 + 7;int qkm(int a, int k, int p)&#123;    int res = 1;    while(k)    &#123;        if(k &amp; 1) res = (LL)res * a % p;        a = (LL)a * a % p;        k &gt;&gt;= 1;    &#125;    return res;&#125;int main()&#123;    int n;    cin &gt;&gt; n;    int a = n * 2;    int b = n;    int f = 1;    for(int i = a; i &gt; b; i -- ) f = (LL)f * i % MOD;    for(int i = 1; i &lt;= n; i ++ ) f = (LL)f * qkm(i, MOD - 2, MOD) % MOD;    cout &lt;&lt; f &lt;&lt; endl;    return 0;&#125;\n\næš‚å®Œ\n","categories":["ç®—æ³•","ç¬”è®°"],"tags":["C ++"]},{"title":"é“¾è¡¨ä¸é‚»æ¥è¡¨","url":"/2023/01/01/%E9%93%BE%E8%A1%A8%E4%B8%8E%E9%82%BB%E6%8E%A5%E8%A1%A8/","content":"æœ¬ç« æ— éœ€å‰ç½®çŸ¥è¯†\n\n\né“¾è¡¨ä¸é‚»æ¥è¡¨\næ­¤å¤„æˆ‘ä»‹ç»é“¾å¼å‰å‘æ˜Ÿçš„å†™æ³•\n\né“¾å¼å‰å‘æ˜Ÿçš„å†™æ³•æ˜¯ä½¿ç”¨æ•°ç»„å»æ¨¡æ‹Ÿé“¾è¡¨ï¼Œå› ä¸ç”¨åå¤ç”³è¯·ç©ºé—´è€Œæ•ˆç‡å¾ˆé«˜ã€‚è€Œå…¶æ ¸å¿ƒæ€æƒ³å°±æ˜¯å…ˆç”³è¯·ä¸ªå†…å­˜æ± ï¼ŒåŠ¨æ€å¼€ç‚¹ã€‚\né“¾è¡¨å•å‘é“¾è¡¨æ¨¡æ¿#include &lt;iostream&gt;using namespace std;const int N = 1e6 + 10;//æ­¤å¤„å†…å­˜æ± å¤§å°ä¸ºNï¼Œ-1æ˜¯é“¾è¡¨ç»“æŸæ ‡è®°ï¼Œèµ·åˆé“¾è¡¨ä¸ºç©ºï¼Œhead=-1int head = -1, ne[N], node[N], idx = -1;\tvoid add(int x)&#123;    node[++ idx] = x, ne[idx] = head, head = idx;&#125;signed main()&#123;    freopen(&quot;in.in&quot;, &quot;r&quot;, stdin);    int n;    cin &gt;&gt; n;    int m = n;    while(m -- )&#123;        int x;        cin &gt;&gt; x;        add(x);    &#125;    for(int i = head; ~i; i = ne[i])&#123;        cout &lt;&lt; node[i] &lt;&lt; endl;    &#125;&#125;\n\nåŒå‘é“¾è¡¨æ¨¡æ¿#include &lt;iostream&gt;using namespace std;const int N = 1e6 + 10;int m;int l[N], r[N], e[N], idx = 2;void init()&#123;    r[0] = 1, l[1] = 0;&#125;void insert_l(int x)&#123;    e[idx] = x;    l[idx] = 0;    r[idx] = r[0];    l[r[0]] = idx, r[0] = idx ++ ;&#125;void insert_r(int x)&#123;    e[idx] = x;    l[idx] = l[1];    r[idx] = 1;    r[l[1]] = idx, l[1] = idx ++ ;&#125;void remove(int i)&#123;    l[r[i]] = l[i], r[l[i]] = r[i];&#125;signed main()&#123;    freopen(&quot;in.in&quot;, &quot;r&quot;, stdin);    cin &gt;&gt; m;    init();    while(m -- )&#123;        char opt;        int x;        cin &gt;&gt; opt &gt;&gt; x;        if(opt == &#x27;l&#x27;)&#123;            insert_l(x);        &#125;else if(opt == &#x27;r&#x27;)&#123;            insert_r(x);        &#125;else&#123;            remove(x);        &#125;    &#125;    for(int i = r[0]; i != 1; i = r[i])&#123;        cout &lt;&lt; e[i] &lt;&lt; &quot; &quot;;    &#125;    cout &lt;&lt; endl;    for(int i = l[1]; i != 0; i = l[i])&#123;        cout &lt;&lt; e[i] &lt;&lt; &quot; &quot;;    &#125;    &#125;\n\né‚»æ¥è¡¨\nå¯ä»¥å­˜å‚¨æ ‘çŠ¶æ•°æ®çš„ä¸€ç§æ•°æ®ç»“æ„\n\né‚»æ¥è¡¨ï¼Œåšä¸ªç®€å•çš„å‡è®¾ï¼šæœ‰ä¸€æ•°ç»„è®°å½•äº†è‹¥å¹²èŠ‚ç‚¹ï¼Œæ•°ç»„èŠ‚ç‚¹ä¸Šå­˜å‚¨ä¸€é“¾è¡¨ï¼Œè¯¥é“¾è¡¨è®°å½•äº†è¯¥èŠ‚ç‚¹æ‰€ç›´æ¥èƒ½é€šå¾€çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚è¿™å°±æ˜¯æ‰€è°“çš„é‚»æ¥ï¼Œè€Œè¿™ç±»ä¼¼äºŒç»´æ•°ç»„çš„æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸ºé‚»æ¥è¡¨ã€‚\né‚»æ¥è¡¨æ¨¡æ¿(æ•°ç»„å®ç°)#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int N = 1e5 + 10;const int M = 1e6 + 10;int head[N], ne[M], e[M], idx;void add(int x, int y)&#123;    // x -&gt; y    e[++ idx] = y, ne[idx] = head[x], head[x] = idx;&#125;signed main()&#123;    freopen(&quot;in.in&quot;, &quot;r&quot;, stdin);    int m, n;    cin &gt;&gt; m &gt;&gt; n;    while(m -- )&#123;        int x, y;        cin &gt;&gt; x &gt;&gt; y;        add(x, y);        //add(y, x) åŒå‘è¾¹    &#125;    //éå†å„ä¸ªç‚¹çš„é‚»æ¥ç‚¹    for(int i = 1; i &lt;= n; i ++ )&#123;        cout &lt;&lt; i &lt;&lt; &quot;: &quot;;        for(int j = head[i]; j; j = ne[j])&#123;            cout &lt;&lt; e[j] &lt;&lt; &quot; &quot;;        &#125;        cout &lt;&lt; endl;    &#125;&#125;\n\nä½¿ç”¨Vectorå®ç°#include &lt;iostream&gt;#include &lt;vector&gt;using namespace std;const int N = 1e5 + 10;vector&lt;int&gt; tb[N];signed main()&#123;    freopen(&quot;in.in&quot;, &quot;r&quot;, stdin);    int m, n;    cin &gt;&gt; m &gt;&gt; n;    while(m -- )&#123;        int x, y;        cin &gt;&gt; x &gt;&gt; y;        tb[x].push_back(y);    &#125;    for(int i = 1; i &lt;= n; i ++ )&#123;        cout &lt;&lt; i &lt;&lt; &quot;: &quot;;        for(auto j : tb[i])&#123;            cout &lt;&lt; j &lt;&lt; &quot; &quot;;        &#125;        cout &lt;&lt; endl;    &#125;&#125;\n\né‚»æ¥è¡¨å­˜å‚¨æ ‘ã€å›¾ç»“æ„ä½•ä¸ºæ ‘ï¼š\n\n\nä½•ä¸ºå›¾ï¼š\n\nä¸ä¸¥è°¨çš„æ¥è¯´ï¼Œæœ‰ç¯æ ‘ä¸ºå›¾ï¼Œæ— ç¯å›¾ä¸ºæ ‘ã€‚å›¾å¯ä»¥æè¿°å¤šå¯¹å¤šçš„å…³ç³»ï¼Œæ ‘å¯æè¿°ä¸€å¯¹å¤šçš„å…³ç³» ï¼ˆçˆ¶å­å…³ç³»ï¼‰\næ ‘çš„èŠ‚ç‚¹ä¸è¾¹çš„æ•°é‡å…³ç³»ä¸º ï¼šè¾¹æ•° &#x3D; èŠ‚ç‚¹æ•° - 1\nå›¾çš„èŠ‚ç‚¹ä¸è¾¹çš„æ•°é‡å…³ç³»ï¼šè®¾èŠ‚ç‚¹æ•°ä¸ºNï¼Œè¾¹æ•°ä¸ºM â€”â€” M â‰¤ (N-1)Ã—N&#x2F;2\né‚»æ¥è¡¨å­˜å‚¨ï¼š\n\nä»¥è‡³äºå¯¹å…¶çš„éå†æ–¹æ³•ï¼Œç­‰ä»¥åå†è¯´å§ğŸƒ\nä¾‹é¢˜é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„åºåˆ— Aï¼ŒA ä¸­çš„æ•°å„ä¸ç›¸åŒã€‚å¯¹äº A ä¸­çš„æ¯ä¸€ä¸ªæ•°Aiï¼Œæ±‚ï¼šmin(1â‰¤j&lt;i)â¡âˆ£Aiâˆ’Ajâˆ£ä»¥åŠä»¤ä¸Šå¼å–åˆ°æœ€å°å€¼çš„ jï¼ˆè®°ä¸º Piï¼‰ã€‚è‹¥æœ€å°å€¼ç‚¹ä¸å”¯ä¸€ï¼Œåˆ™é€‰æ‹©ä½¿ Ajè¾ƒå°çš„é‚£ä¸ªã€‚\nè¾“å…¥æè¿°:ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°nï¼Œç¬¬äºŒè¡Œnä¸ªæ•°A1~Anã€‚\n\nè¾“å‡ºæè¿°:n-1è¡Œï¼Œæ¯è¡Œ2ä¸ªç”¨ç©ºæ ¼éš”å¼€çš„æ•´æ•°ã€‚åˆ†åˆ«è¡¨ç¤ºå½“iå–2~næ—¶ï¼Œå¯¹åº”çš„ min(1â‰¤j&lt;i)â¡âˆ£Aiâˆ’Ajâˆ£å’ŒPiçš„å€¼ã€‚\n\nå‚è€ƒä»£ç #include &lt;iostream&gt;#include &lt;algorithm&gt;using namespace std;using PII = pair&lt;int,int&gt;;const int N = 1e5 + 10;struct Node&#123;    int v, id;    int nxt, pre;    bool operator&lt;(const Node&amp; k)const&#123;        if(v == k.v)            return id &lt; k.id;        else            return v &lt; k.v;    &#125;&#125;q[N];int st[N];int n;PII ans[N];signed main()&#123;//     freopen(&quot;in.in&quot;, &quot;r&quot;, stdin);    ios::sync_with_stdio(false);    cin &gt;&gt; n;    q[0].v = 1e9, q[n+1].v = -1e9;    for(int i = 1; i &lt;= n; i ++ )&#123;        cin &gt;&gt; q[i].v;        q[i].id = i;    &#125;    sort(q+1, q+1+n);    for(int i = 1; i &lt;= n; i ++ )&#123;        q[i].nxt = i+1;        q[i].pre = i-1;        st[q[i].id] = i;    &#125;    for(int i = n; i &gt; 1; i -- )&#123;        int j = st[i], j1 = q[j].nxt, j2 = q[j].pre;        int r1 = abs(q[j1].v - q[j].v), r2 = abs(q[j2].v - q[j].v);        if(r1 &gt;= r2) ans[i] = &#123;r2, q[j2].id&#125;;        else ans[i] = &#123;r1, q[j1].id&#125;;        q[j1].pre = j2;        q[j2].nxt = j1;    &#125;    for(int i = 2; i &lt;= n; i ++ )&#123;        cout &lt;&lt; ans[i].first &lt;&lt; &quot; &quot; &lt;&lt; ans[i].second &lt;&lt; endl;    &#125;&#125;\n\n\n\nè¯¾åä¹ é¢˜\nå› ä¸ºè¿‡äºåŸºç¡€ï¼Œæ‰€ä»¥ä¸å¤ªå¥½æ‰¾ä¾‹é¢˜ï¼Œæ‰€ä»¥æœ¬ç« å°±ç•™ç‚¹è¯¾åç»ƒä¹ å§\n\nå•é“¾è¡¨:\nå®ç°ä¸€ä¸ªå•é“¾è¡¨ï¼Œé“¾è¡¨åˆå§‹ä¸ºç©ºï¼Œæ”¯æŒä¸‰ç§æ“ä½œï¼š\n\nå‘é“¾è¡¨å¤´æ’å…¥ä¸€ä¸ªæ•°ï¼›\nåˆ é™¤ç¬¬ k ä¸ªæ’å…¥çš„æ•°åé¢çš„æ•°ï¼›\nåœ¨ç¬¬ k ä¸ªæ’å…¥çš„æ•°åæ’å…¥ä¸€ä¸ªæ•°ã€‚\n\nç°åœ¨è¦å¯¹è¯¥é“¾è¡¨è¿›è¡Œ M æ¬¡æ“ä½œï¼Œè¿›è¡Œå®Œæ‰€æœ‰æ“ä½œåï¼Œä»å¤´åˆ°å°¾è¾“å‡ºæ•´ä¸ªé“¾è¡¨ã€‚\næ³¨æ„:é¢˜ç›®ä¸­ç¬¬ k ä¸ªæ’å…¥çš„æ•°å¹¶ä¸æ˜¯æŒ‡å½“å‰é“¾è¡¨çš„ç¬¬ k ä¸ªæ•°ã€‚ä¾‹å¦‚æ“ä½œè¿‡ç¨‹ä¸­ä¸€å…±æ’å…¥äº† n ä¸ªæ•°ï¼Œåˆ™æŒ‰ç…§æ’å…¥çš„æ—¶é—´é¡ºåºï¼Œè¿™ n ä¸ªæ•°ä¾æ¬¡ä¸ºï¼šç¬¬ 1 ä¸ªæ’å…¥çš„æ•°ï¼Œç¬¬ 2 ä¸ªæ’å…¥çš„æ•°ï¼Œâ€¦ç¬¬ n ä¸ªæ’å…¥çš„æ•°ã€‚\nè¾“å…¥æ ¼å¼ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Mï¼Œè¡¨ç¤ºæ“ä½œæ¬¡æ•°ã€‚\næ¥ä¸‹æ¥ M è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œå‘½ä»¤ï¼Œæ“ä½œå‘½ä»¤å¯èƒ½ä¸ºä»¥ä¸‹å‡ ç§ï¼š\n\nH xï¼Œè¡¨ç¤ºå‘é“¾è¡¨å¤´æ’å…¥ä¸€ä¸ª xã€‚\nD kï¼Œè¡¨ç¤ºåˆ é™¤ç¬¬ k ä¸ªæ’å…¥çš„æ•°åé¢çš„æ•°ï¼ˆå½“ k ä¸º 0 æ—¶ï¼Œè¡¨ç¤ºåˆ é™¤å¤´ç»“ç‚¹ï¼‰ã€‚\nI k xï¼Œè¡¨ç¤ºåœ¨ç¬¬ k ä¸ªæ’å…¥çš„æ•°åé¢æ’å…¥ä¸€ä¸ªæ•° xï¼ˆæ­¤æ“ä½œä¸­ k å‡å¤§äº 0ï¼‰ã€‚\n\nè¾“å‡ºæ ¼å¼å…±ä¸€è¡Œï¼Œå°†æ•´ä¸ªé“¾è¡¨ä»å¤´åˆ°å°¾è¾“å‡ºã€‚\næ•°æ®èŒƒå›´1â‰¤Mâ‰¤100000æ‰€æœ‰æ“ä½œä¿è¯åˆæ³•ã€‚\nè¾“å…¥æ ·ä¾‹ï¼š10H 9I 1 1D 1D 0H 6I 3 6I 4 5I 4 5I 3 4D 6\n\nè¾“å‡ºæ ·ä¾‹ï¼š6 4 6 5\n\nåŒé“¾è¡¨:\nå®ç°ä¸€ä¸ªåŒé“¾è¡¨ï¼ŒåŒé“¾è¡¨åˆå§‹ä¸ºç©ºï¼Œæ”¯æŒ 5 ç§æ“ä½œï¼š\n\nåœ¨æœ€å·¦ä¾§æ’å…¥ä¸€ä¸ªæ•°ï¼›\nåœ¨æœ€å³ä¾§æ’å…¥ä¸€ä¸ªæ•°ï¼›\nå°†ç¬¬ k ä¸ªæ’å…¥çš„æ•°åˆ é™¤ï¼›\nåœ¨ç¬¬ k ä¸ªæ’å…¥çš„æ•°å·¦ä¾§æ’å…¥ä¸€ä¸ªæ•°ï¼›\nåœ¨ç¬¬ k ä¸ªæ’å…¥çš„æ•°å³ä¾§æ’å…¥ä¸€ä¸ªæ•°\n\nç°åœ¨è¦å¯¹è¯¥é“¾è¡¨è¿›è¡Œ M æ¬¡æ“ä½œï¼Œè¿›è¡Œå®Œæ‰€æœ‰æ“ä½œåï¼Œä»å·¦åˆ°å³è¾“å‡ºæ•´ä¸ªé“¾è¡¨ã€‚\næ³¨æ„:é¢˜ç›®ä¸­ç¬¬ k ä¸ªæ’å…¥çš„æ•°å¹¶ä¸æ˜¯æŒ‡å½“å‰é“¾è¡¨çš„ç¬¬ k ä¸ªæ•°ã€‚ä¾‹å¦‚æ“ä½œè¿‡ç¨‹ä¸­ä¸€å…±æ’å…¥äº† n ä¸ªæ•°ï¼Œåˆ™æŒ‰ç…§æ’å…¥çš„æ—¶é—´é¡ºåºï¼Œè¿™ n ä¸ªæ•°ä¾æ¬¡ä¸ºï¼šç¬¬ 1 ä¸ªæ’å…¥çš„æ•°ï¼Œç¬¬ 2 ä¸ªæ’å…¥çš„æ•°ï¼Œâ€¦ç¬¬ n ä¸ªæ’å…¥çš„æ•°ã€‚\nè¾“å…¥æ ¼å¼ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Mï¼Œè¡¨ç¤ºæ“ä½œæ¬¡æ•°ã€‚\næ¥ä¸‹æ¥ M è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œå‘½ä»¤ï¼Œæ“ä½œå‘½ä»¤å¯èƒ½ä¸ºä»¥ä¸‹å‡ ç§ï¼š\n\nL xï¼Œè¡¨ç¤ºåœ¨é“¾è¡¨çš„æœ€å·¦ç«¯æ’å…¥æ•° xã€‚\nR xï¼Œè¡¨ç¤ºåœ¨é“¾è¡¨çš„æœ€å³ç«¯æ’å…¥æ•° xã€‚\nD kï¼Œè¡¨ç¤ºå°†ç¬¬ k ä¸ªæ’å…¥çš„æ•°åˆ é™¤ã€‚\nIL k xï¼Œè¡¨ç¤ºåœ¨ç¬¬ k ä¸ªæ’å…¥çš„æ•°å·¦ä¾§æ’å…¥ä¸€ä¸ªæ•°ã€‚\nIR k xï¼Œè¡¨ç¤ºåœ¨ç¬¬ k ä¸ªæ’å…¥çš„æ•°å³ä¾§æ’å…¥ä¸€ä¸ªæ•°ã€‚\n\nè¾“å‡ºæ ¼å¼å…±ä¸€è¡Œï¼Œå°†æ•´ä¸ªé“¾è¡¨ä»å·¦åˆ°å³è¾“å‡ºã€‚\næ•°æ®èŒƒå›´1â‰¤Mâ‰¤100000æ‰€æœ‰æ“ä½œä¿è¯åˆæ³•ã€‚\nè¾“å…¥æ ·ä¾‹ï¼š10R 7D 1L 3IL 2 10D 3IL 2 7L 8R 9IL 4 7IR 2 2\n\nè¾“å‡ºæ ·ä¾‹ï¼š8 7 7 3 2 9\n\n","categories":["è¯¾ä»¶","æ•°æ®ç»“æ„"],"tags":["C ++","ç®—æ³•åŸºç¡€"]},{"title":"ç®€å•çš„é€’å½’å­¦ä¹ ","url":"/2023/01/02/%E7%AE%80%E5%8D%95%E7%9A%84%E9%80%92%E5%BD%92%E5%AD%A6%E4%B9%A0/","content":"æœ¬ç« æ— éœ€å‰ç½®çŸ¥è¯†ï¼Œä½†æœ€å¥½äº†è§£å¦‚ä½•å­˜å‚¨æ ‘ç»“æ„ï¼ˆå¯å‚è€ƒé“¾è¡¨ä¸é‚»æ¥è¡¨ï¼‰ğŸ™‚\n\n\né€’å½’ï¼ˆå…¥é—¨ï¼‰æˆ‘ä»¬å…ˆæ¥çœ‹åŸºç¡€çš„é€’å½’å†™æ³•ç»“æ„ï¼š\nvoid dfs()&#123;    if(condition()) return;\t//ç»“æŸæ¡ä»¶    dfs();&#125;\n\nå†æ¥çœ‹çœ‹ç»å…¸çš„æ±‚æœ€å¤§å…¬å› æ•°gcdé€’å½’å†™æ³•ï¼š\nint gcd(int a, int b)&#123;   return b ? gcd(b, a%b) : a; &#125;\n\nå¯è§é€’å½’ä»å½¢å¼ä¸Šæ¥çœ‹å°±æ˜¯è‡ªå·±è°ƒç”¨è‡ªå·±ï¼Œè€Œè‡ªå·±è°ƒç”¨è‡ªå·±ä¹Ÿå­˜åœ¨ç€æ— æ³•åœä¸‹çš„é£é™©ï¼Œæ‰€ä»¥éœ€è¦æ¡ä»¶æ¥ç»“æŸé€’å½’ã€‚\nè€Œå°±å½¢å¼ä¸Šçš„äº†è§£æ˜¯ä¸å¯èƒ½æŒæ¡é€’å½’çš„ã€‚æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥è®²é€’å½’çš„å¸¸ç”¨åº”ç”¨åœºæ™¯ï¼šæ ‘çŠ¶ç»“æ„çš„é—®é¢˜ã€‚\né€’å½’éå†æ ‘ \nå…ˆæ¥ä¸ªé—®é¢˜ï¼Œé¢å¯¹ä¸€æ£µæ ‘ï¼Œæ€ä¹ˆéå†ï¼Ÿ\næŒ‰ç…§çº¿æ€§ï¼ˆæ¯”å¦‚æ•°ç»„ï¼‰çš„éå†æ–¹æ³•è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼ˆé‚»æ¥è¡¨è¿™ä¹ˆéå†ä¹Ÿå¤ªæ‰é€¼æ ¼äº†ï¼‰è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨é€’å½’ï¼Œä¹‹ååœ¨å›¾è®ºä¸­æˆ‘ä»¬ç§°æ­¤ä¸ºdfsï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰ã€‚æˆ‘ä»¬å…ˆæ¥ä¸€ä¸ªdemo\ndemoè‡ªå·±ç¼–çš„ï¼Œä¸è¦åœ¨æ„\n\nè¿™é‡Œæœ‰æ£µæ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½æœ‰æ•°å€¼ï¼Œå®šä¹‰æ¯ä¸ªèŠ‚ç‚¹çš„ä»·å€¼ä¸ºèŠ‚ç‚¹æ•°å€¼ä¹˜ä¸Šå…¶æ·±åº¦ï¼ˆè·ç¦»æ ¹èŠ‚ç‚¹çš„è·ç¦»+1ï¼Œæ ¹èŠ‚ç‚¹æ·±åº¦ä¸º1ï¼‰ï¼Œæ ‘çš„ä»·å€¼æ˜¯æ‰€æœ‰èŠ‚ç‚¹ä»·å€¼çš„å’Œï¼Œæ±‚å‡ºç»™å®šæ ‘çš„ä»·å€¼ã€‚\n\ninput\n6\t\t\t//æ ‘æœ‰çš„èŠ‚ç‚¹æ•°1 2 3 4 5 6 //ç¬¬iä¸ªæ•°æ˜¯èŠ‚ç‚¹içš„æ•°å€¼1 2 \t\t//èŠ‚ç‚¹1 æŒ‡å‘ èŠ‚ç‚¹22 3 1 4 2 5 5 6 \n\noutput\n61\n\ncode\n#include &lt;iostream&gt;#include &lt;cstring&gt;using namespace std;const int N = 1e6 + 10;int n;int h[N], ne[N], e[N], idx;int v[N];void init()&#123;    memset(h, -1, sizeof h);    idx =-1;&#125;void add(int x, int y)&#123;    e[++ idx] = y, ne[idx] = h[x], h[x] = idx;&#125;int ans;void dfs(int u, int deep)&#123;    ans += v[u]*deep;    for(int i = h[u]; ~i; i = ne[i])&#123;        dfs(e[i], deep + 1);    &#125;&#125;signed main()&#123;    freopen(&quot;in.in&quot;, &quot;r&quot;, stdin);    init();    cin &gt;&gt; n;    for(int i = 1; i &lt;= n; i ++ )&#123;        cin &gt;&gt; v[i];    &#125;    for(int i = 1; i &lt; n; i ++ )&#123;        int x, y;        cin &gt;&gt; x &gt;&gt; y;        add(x, y);    &#125;    dfs(1, 1);    cout &lt;&lt; ans &lt;&lt;endl;&#125;\n\né‡ç‚¹çœ‹ä¸€ä¸‹è¿™æ®µä»£ç ï¼š\nvoid dfs(int u, int deep)&#123;    //uä¸ºå½“å‰éå†çš„èŠ‚ç‚¹ï¼Œdeepä¸ºå½“å‰æ·±åº¦    ans += v[u]*deep;    for(int i = h[u]; ~i; i = ne[i])&#123;        dfs(e[i], deep + 1);\t//éå†uæ‰€é‚»æ¥çš„èŠ‚ç‚¹e[i]ï¼Œæ ‘çš„æ·±åº¦åŠ ä¸€    &#125;&#125;\n","categories":["è¯¾ä»¶","æœç´¢"],"tags":["C ++","ç®—æ³•åŸºç¡€"]}]